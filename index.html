<!DOCTYPE html>
<html lang="en-us">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Tessa + Doug</title>
        <link rel="stylesheet" href="index.css">
    </head>

    <body>
        <h1>Hi Tessa!</h1>
        <div>
            <form id="form" autocomplete="off">
                <label for="uname">Username</label>
                <input type="text" id="uname" name="username" placeholder="Username"><br>
                <label for="passw">Password</label>
                <input type="password" id="passw" name="password" placeholder="Password"><br>
                <input onclick="check()" type="button" id="pwsub" name="passwordsubmit" value="Submit">
            </form>
        </div>
        <div>
            <p id="tessagreet" display="hidden">Hi, Babes!</p>
            <p id="megreet" display="hidden">Hi, me</p>
            <p id="wrong" display="hidden">Hi, the username or password you entered was wrong. Please try again.</p>
        </div>

        <script>
            function hash(str) {
                const utf8 = new TextEncoder().encode(str);
                return crypto.subtle.digest('SHA-256', utf8).then((hashBuffer) => {
                    const hashArray = Array.from(new Uint8Array(hashBuffer));
                    const hashHex = hashArray.map((bytes) => bytes.toString(16).padStart(2, '0')).join('');
                    return hashHex;
                });
            }

            function check() {
                let uname = document.getElementById("uname").value;
                let passw = document.getElementById("passw").value;
                let wrong = document.getElementById("wrong");
                let megreet = document.getElementById("megreet");
                let tessagreet = document.getElementById("tessagreet");
                hash(uname).then((hex) => sessionStorage.setItem("Username", hex));
                hash(passw).then((hex) => sessionStorage.setItem("Password", hex));
                document.getElementById("uname").value = "";
                document.getElementById("passw").value = "";
                if (((sessionStorage.getItem("Username")) == "0fe9877170f58a0b7a7969545172bfe7eb9c4420b8b0a1f33b4cd2c41ead163e") && ((sessionStorage.getItem("Password")) == "b600cb9e7ed4f42e59d8a47b06288e1eef82e1680a54be9c9f4551ffa1ea9d88")) {
                    tessagreet.style.display = "block";
                    document.getElementById("form").style.display = "none";
                    wrong.style.display = "none";
                } else if (((sessionStorage.getItem("Username")) == "6132853eb8e76755d5646440abd7a00776a1facfa68e08fee859e454582c0b08") && ((sessionStorage.getItem("Password")) == "b600cb9e7ed4f42e59d8a47b06288e1eef82e1680a54be9c9f4551ffa1ea9d88")) {
                    megreet.style.display = "block";
                    document.getElementById("form").style.display = "none";
                    wrong.style.display = "none";
                } else {
                    wrong.style.display = "block";
                }
            }
        </script>

    </body>
</html>