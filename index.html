<!DOCTYPE html>
<html lang="en-us">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Tessa + Doug</title>
        <link rel="stylesheet" href="index.css">
    </head>

    <body>
        <h1>Hi Tessa!</h1>
        <div>
            <form autocomplete="off">
                <label for="uname">Username</label>
                <input type="text" id="uname" name="username" placeholder="Username"><br>
                <label for="passw">Password</label>
                <input type="password" id="passw" name="password" placeholder="Password"><br>
                <input onclick="check()" type="button" id="pwsub" name="passwordsubmit" value="Submit">
            </form>
        </div>

        <script>
            function hash(str) {
                const utf8 = new TextEncoder().encode(str);
                return crypto.subtle.digest('SHA-256', utf8).then((hashBuffer) => {
                    const hashArray = Array.from(new Uint8Array(hashBuffer));
                    const hashHex = hashArray.map((bytes) => bytes.toString(16).padStart(2, '0')).join('');
                    return hashHex;
                });
            }

            function check() {
                let uname = document.getElementById("uname").value;
                let passw = document.getElementById("passw").value;
                hash(uname).then((hex) => sessionStorage.setItem("Username", hex));
                hash(passw).then((hex) => sessionStorage.setItem("Password", hex));
                document.getElementById("uname").value = "";
                document.getElementById("passw").value = "";
            }
        </script>

    </body>
</html>